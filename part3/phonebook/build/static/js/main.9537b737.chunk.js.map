{"version":3,"sources":["components/PersonForm.js","components/PersonsView.js","components/Filter.js","services/Persons.js","components/Message.js","App.js","index.js"],"names":["PersonForm","handleSubmit","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","event","preventDefault","name","number","value","onChange","target","type","PersonsView","persons","handleRemove","map","person","onClick","Filter","filter","handleFilter","baseURL","Persons","getAll","a","request","axios","get","then","response","data","addPerson","newObject","post","removePerson","removedObjectID","delete","updatePerson","updatedObjectID","updatedObject","put","Message","flag","text","messageStyle","color","background","fontSize","borderStyle","borderRadius","padding","textAlign","console","log","style","App","setPersons","useEffect","initialPersons","setFilter","message","setMessage","displayedPersons","toLowerCase","includes","trim","submittedPerson","foundPerson","find","undefined","window","confirm","id","updatedPerson","addedPerson","removedPerson","removedPersonID","currentPersons","catch","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9537b737.chunk.js","sourcesContent":["import React, { useState } from \"react\";\n\nconst PersonForm = ({ handleSubmit }) => {\n    const [newName, setNewName] = useState(\"\");\n    const [newNumber, setNewNumber] = useState(\"\");\n\n    const resetInputs = () => {\n        setNewName(\"\");\n        setNewNumber(\"\");\n    }\n\n    const onSubmit = (event) => {\n        event.preventDefault()\n        handleSubmit({name: newName, number: newNumber});\n        resetInputs();\n    }\n    return (\n        <form onSubmit={onSubmit}>\n            <div>\n                name:{\" \"}\n                <input\n                    value={newName}\n                    onChange={(event) => setNewName(event.target.value)}\n                />\n            </div>\n            <div>\n                number:\n                <input\n                    value={newNumber}\n                    onChange={(event) => setNewNumber(event.target.value)}\n                />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    );\n};\nexport default PersonForm;\n","const PersonsView = ({ persons, handleRemove }) => {\n    return persons.map((person) => (\n        <div key={person.name}>\n            <p>\n                <b>Name: </b>{person.name}  <b>Phone: </b>{person.number}\n            </p>\n            <button onClick={() => handleRemove(person)}>Remove</button>\n        </div>\n    ));\n};\n\nexport default PersonsView;\n","const Filter = ({filter, handleFilter}) => {\n    return (\n        <p>\n            Filter shown with \n            <input\n                value={filter}\n                onChange={(event) => {\n                    handleFilter(event.target.value)}\n                }\n            />\n        </p>\n    );\n};\n\nexport default Filter;\n","import axios from \"axios\";\nconst baseURL = \"https://damp-taiga-55518.herokuapp.com/\";\n\nconst getAll = async () => {\n    const request = axios.get(baseURL);\n    return request.then((response) => response.data);\n};\n\nconst addPerson = async (newObject) => {\n    const request = axios.post(baseURL, newObject);\n    return request.then((response) => response.data);\n};\n\nconst removePerson = async (removedObjectID) => {\n    const request = axios.delete(`${ baseURL }/${removedObjectID}`);\n    return request.then((response) => {\n        return response.data;\n    });\n};\n\nconst updatePerson = async (updatedObjectID, updatedObject) => {\n    const request = axios.put(`${ baseURL }/${updatedObjectID}`, updatedObject)\n    return request.then(response => response.data)\n};\n\nconst Persons = { getAll, addPerson, removePerson, updatePerson };\n\nexport default Persons;\n","const Message = ({ flag, text }) => {\n    const messageStyle = {\n        color: flag === \"error\" ? \"red\" : \"green\",\n        background: \"lightgrey\",\n        fontSize: \"20px\",\n        borderStyle: \"solid\",\n        borderRadius: \"5px\",\n        padding: \"10px\",\n        textAlign: \"center\",\n    };\n    console.log({ flag, text });\n    return (\n        <div style={messageStyle}>\n            <br />\n            <em>{text}</em>\n        </div>\n    );\n};\n\nexport default Message;\n","import React, { useState, useEffect } from \"react\";\nimport PersonForm from \"./components/PersonForm\";\nimport PersonsView from \"./components/PersonsView\";\nimport Filter from \"./components/Filter\";\nimport Persons from \"./services/Persons\";\nimport Message from \"./components/Message\";\nconst App = () => {\n    const [persons, setPersons] = useState([]);\n    useEffect(() => {\n        Persons.getAll().then((initialPersons) => {\n            setPersons(initialPersons);\n        });\n    }, []);\n    const [filter, setFilter] = useState(\"\");\n    const [message, setMessage] = useState({});\n    const handleSubmit = (submittedPerson) => {\n        const { name } = submittedPerson;\n        const foundPerson = persons.find((person) => person.name === name);\n        if (foundPerson !== undefined) {\n            if (\n                window.confirm(\n                    `${name} is already added to phonebook, update a new number?`\n                )\n            ) {\n                Persons.updatePerson(foundPerson.id, submittedPerson).then(\n                    (updatedPerson) => {\n                        setPersons(\n                            persons.map((person) =>\n                                person.name !== updatedPerson.name\n                                    ? person\n                                    : updatedPerson\n                            )\n                        );\n                        setMessage({\n                            flag: \"success\",\n                            text: `Modified ${updatedPerson.name}'s info`,\n                        });\n                    }\n                );\n            }\n        } else {\n            Persons.addPerson(submittedPerson).then((addedPerson) => {\n                setPersons([...persons, addedPerson]);\n                setMessage({\n                    flag: \"success\",\n                    text: `Added ${addedPerson.name}`,\n                });\n            });\n        }\n    };\n\n    const handleRemove = (removedPerson) => {\n        const removedPersonID = persons.find(\n            (person) => person === removedPerson\n        ).id;\n\n        if (window.confirm(`Delete ${removedPerson.name} ?`))\n            Persons.removePerson(removedPersonID)\n                .then(() =>\n                    Persons.getAll().then((currentPersons) => {\n                        setPersons(currentPersons);\n                        setMessage({\n                            flag: \"success\",\n                            text: `Removed ${removedPerson.name}`,\n                        });\n                    })\n                )\n                .catch((error) => {\n                    console.log(error);\n                    setMessage({\n                        flag: \"error\",\n                        text: `Information of ${removedPerson.name} has been removed from server`,\n                    });\n                });\n    };\n\n    const displayedPersons = persons.filter((person) =>\n        person.name.toLowerCase().includes(filter.toLowerCase().trim())\n    );\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Message flag={message.flag} text={message.text} />\n            <Filter filter={filter} handleFilter={setFilter} />\n            <PersonForm handleSubmit={handleSubmit} />\n            <h2>Numbers</h2>\n            <PersonsView\n                persons={displayedPersons}\n                handleRemove={handleRemove}\n            />\n        </div>\n    );\n};\n\nexport default App;\n\n// Create services folder for persons handling, add getAll, create, replace method\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById(\"root\"));   \n"],"sourceRoot":""}